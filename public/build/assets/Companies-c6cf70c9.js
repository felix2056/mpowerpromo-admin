import{P as l,D as c}from"./dataTables.select-7b173425.js";import{r,o as d,c as _,a as e,f as i,i as o,e as m,t as n}from"./app-57257bd6.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";l.use(c);l.use(c);const h={name:"Companies",components:{DataTable:l},data(){return{isLoading:!1,companies:[],columns:[{data:"name",sortField:"name",titleClass:"text-center",dataClass:"text-center",callback:"name"},{data:"customers_count",title:"Customers",sortField:"customers_count",titleClass:"text-center",dataClass:"text-center",callback:"customers_count",defaultContent:"-",targets:"_all"},{data:"orders_count",title:"Orders",sortField:"orders_count",titleClass:"text-center",dataClass:"text-center",callback:"orders_count",defaultContent:"-",targets:"_all"},{data:"orders_sum_total",title:"Orders Total",sortField:"orders_sum_total",titleClass:"text-center",dataClass:"text-center",callback:"orders_sum_total",defaultContent:"-",targets:"_all"}],options:{headings:{companyName:"Name",customers:"Customers",orders:"Orders",ordersTotal:"Orders Total"},sortable:["name","customers_count","orders_count","orders_sum_total"],filterable:["name","customers_count","orders_count","orders_sum_total"],responsive:!0,dom:"Bfrtip",perPage:10,perPageValues:[10,25,50,100],paginationComponent:"v-pagination",paginationInfo:!0,paginationDropdown:!0,paginationInfoTemplate:"Showing {from} to {to} of {total} companies",texts:{count:"One record",first:"First",last:"Last",filter:"Filter:",filterPlaceholder:"Search query",limit:"Records:",page:"Page:",noResults:"No matching records",filterBy:"Filter by {column}",loading:"Loading...",defaultOption:"Select {column}",columns:"Columns"}},paginationComponent:"v-pagination",paginationInfoTemplate:"Showing {from} to {to} of {total} companies"}},created(){this.getCompanies()},methods:{getCompanies(){this.isLoading=!0,axios.get("/customers/companies").then(a=>{this.companies=a.data.companies}).catch(a=>{this.errorMsg=a.response.data.message}).finally(()=>{this.isLoading=!1})}}},f={class:"mt-3"},b={style:{}},x={class:"overlap",style:{}},T=e("thead",null,[e("tr",null,[e("th",{id:"VueTables_th--companyName",tabindex:"0",class:"VueTables__sortable",style:{position:"relative"}},[e("span",{title:"",class:"VueTables__heading"},"Name"),e("span",{class:"VueTables__sort-icon float-right fal glyphicon-sort"}),e("div",{style:{top:"0px",right:"0px",width:"5px",position:"absolute",cursor:"col-resize","user-select":"none",height:"0px"},class:"resize-handle"})]),e("th",{id:"VueTables_th--customers",tabindex:"0",class:"VueTables__sortable",style:{position:"relative"}},[e("span",{title:"",class:"VueTables__heading"},"Customers"),e("span",{class:"VueTables__sort-icon float-right fal glyphicon-sort"}),e("div",{style:{top:"0px",right:"0px",width:"5px",position:"absolute",cursor:"col-resize","user-select":"none",height:"0px"},class:"resize-handle"})]),e("th",{id:"VueTables_th--orders",tabindex:"0",class:"VueTables__sortable",style:{position:"relative"}},[e("span",{title:"",class:"VueTables__heading"},"Orders"),e("span",{class:"VueTables__sort-icon float-right fal glyphicon-sort"}),e("div",{style:{top:"0px",right:"0px",width:"5px",position:"absolute",cursor:"col-resize","user-select":"none",height:"0px"},class:"resize-handle"})]),e("th",{id:"VueTables_th--ordersTotal",tabindex:"0",class:"VueTables__sortable",style:{position:"relative"}},[e("span",{title:"",class:"VueTables__heading"},"Orders Total"),e("span",{class:"VueTables__sort-icon float-right fal fa-sort-amount-down"}),e("div",{style:{top:"0px",right:"0px",width:"5px",position:"absolute",cursor:"col-resize","user-select":"none",height:"0px"},class:"resize-handle"})])])],-1),C={class:"d-flex align-center"};function y(a,V,v,w,s,k){const p=r("router-link"),u=r("DataTable");return d(),_("div",f,[e("div",b,[e("div",x,[i(u,{data:s.companies,columns:s.columns,options:s.options,loading:s.isLoading,filterable:!0,pagination:!0,perPage:10,perPageValues:[10,25,50,100],"pagination-component":s.paginationComponent,"pagination-info":!0,"pagination-dropdown":!0,"pagination-info-template":s.paginationInfoTemplate,class:"w-100 TopTable__table VueTables VueTables--server stripe"},{name:o(t=>[e("div",C,[i(p,{to:{name:"company",params:{slug:t.row.id}},class:"text-ellipsis"},{default:o(()=>[m(n(t.row.name),1)]),_:2},1032,["to"])])]),customers_count:o(t=>[e("span",null,n(t.row.customers_count),1)]),orders_count:o(t=>[e("span",null,n(t.row.orders_count),1)]),orders_sum_total:o(t=>[e("span",null,n(t.row.orders_sum_total),1)]),default:o(()=>[T]),_:1},8,["data","columns","options","loading","pagination-component","pagination-info-template"])])])])}const D=g(h,[["render",y]]);export{D as default};
